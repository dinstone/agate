import e from"./Write-c8a2769a.js";import{_ as t}from"./ContentDetailWrap.vue_vue_type_script_setup_true_lang-2c9e1659.js";import{d as a,Z as s,u as o,r as i,o as r,i as l,w as m,e as n,J as u,t as c,a as p,O as d,k as f}from"./index-9d34d1b9.js";/* empty css                  */import{u as _}from"./useEmitt-312128b0.js";import{b as y,a as v}from"./route-37daf1fa.js";/* empty css                */import"./index-fd6339dd.js";const j=a({__name:"Edit",setup(a){const{t:j}=f(),{query:k}=s(),{emitter:g}=_(),{push:w,go:x}=o(),C=i();(async()=>{const e=await y(k.id);e&&(C.value=e.data)})();const b=i(),h=i(!1),D=async()=>{const e=p(b),t=await(null==e?void 0:e.submitForm());if(t){h.value=!0;await v(t).catch((()=>{})).finally((()=>{h.value=!1}))&&(g.emit("changeEvent","editor"),x(-1))}},E=async()=>{const e=p(b);null==e||e.resetForm()};return(a,s)=>(r(),l(p(t),{title:p(j)("exampleDemo.edit"),onBack:s[1]||(s[1]=e=>p(w)("/gateway/list"))},{header:m((()=>[n(p(d),{onClick:s[0]||(s[0]=e=>p(x)(-1))},{default:m((()=>[u(c(p(j)("common.back")),1)])),_:1}),n(p(d),{type:"primary",onClick:E},{default:m((()=>[u(c(p(j)("common.reset")),1)])),_:1}),n(p(d),{type:"primary",loading:h.value,onClick:D},{default:m((()=>[u(c(p(j)("exampleDemo.save")),1)])),_:1},8,["loading"])])),default:m((()=>[n(e,{ref_key:"writeRef",ref:b,model:C.value},null,8,["model"])])),_:1},8,["title"]))}});export{j as default};
